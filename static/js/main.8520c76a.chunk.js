(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(5),o=a.n(i),l=a(4),c=a(6),u=a(30),s=a(3),p=a(20),d=a.n(p),m=a(31),v="FETCH_MOVIES_BEGIN",f="FETCH_MOVIES_SUCCESS",b="FETCH_MOVIES_FAILURE",g="FETCH_PAGE_COUNT",y=function(){return{type:v}},h=function(e){return{type:f,payload:{movies:e}}},E=function(e){return{type:b,payload:{error:e}}},w=function(e){return{type:g,payload:{count:e}}},_="5874acfd11651a28c55771624f7021f4",k="https://api.themoviedb.org/3";function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return function(){var i=Object(m.a)(d.a.mark(function i(o){var l,c,u,s;return d.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o(y()),i.prev=1,!r||!a){i.next=8;break}return i.next=5,fetch("".concat(k,"/discover/movie?api_key=").concat(_,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=").concat(t,"&with_genres=").concat(a));case 5:l=i.sent,i.next=41;break;case 8:if(!r){i.next=14;break}return i.next=11,fetch("".concat(k,"/discover/movie?api_key=").concat(_,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=").concat(t));case 11:l=i.sent,i.next=41;break;case 14:if(!n||!a){i.next=20;break}return i.next=17,fetch("".concat(k,"/discover/movie?sort_by=vote_average.desc&api_key=").concat(_,"&region=US&page=").concat(t,"&vote_count.gte=500&with_genres=").concat(a));case 17:l=i.sent,i.next=41;break;case 20:if(!n){i.next=26;break}return i.next=23,fetch("".concat(k,"/discover/movie?sort_by=vote_average.desc&api_key=").concat(_,"&region=US&page=").concat(t,"&vote_count.gte=500"));case 23:l=i.sent,i.next=41;break;case 26:if(!e){i.next=32;break}return i.next=29,fetch("".concat(k,"/search/movie?api_key=").concat(_,"&query=").concat(e,"&page=").concat(t));case 29:l=i.sent,i.next=41;break;case 32:if(!a){i.next=38;break}return i.next=35,fetch("".concat(k,"/discover/movie?api_key=").concat(_,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=").concat(t,"&with_genres=").concat(a));case 35:l=i.sent,i.next=41;break;case 38:return i.next=40,fetch("".concat(k,"/movie/now_playing?api_key=").concat(_,"&page=").concat(t));case 40:l=i.sent;case 41:i.next=47;break;case 43:return i.prev=43,i.t0=i.catch(1),o(E(" Failed to load!")),i.abrupt("return");case 47:return o(E(null)),i.next=50,l.json();case 50:c=i.sent,u=c.results,s=c.total_pages,o(w(s)),o(h(u));case 55:case"end":return i.stop()}},i,null,[[1,43]])}));return function(e){return i.apply(this,arguments)}}()}var O="CHANGE_PAGE",P="UPDATE_WINDOW_WIDTH",j="RESET_PAGE_NUMBER",x=function(){return{type:j,payload:1}},C={items:[],loading:!1,error:null,pages:0,currentPage:1,windowWidth:null};var I="TOGGLE_POPULARITY",R="TOGGLE_RATINGS",S="CHANGE_GENRE_VALUE",W="CHANGE_INPUT_VALUE",V="RESET_INPUT_VALUE",D=function(){return{type:I}},T=function(){return{type:R}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:S,payload:e}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:W,payload:{inputValue:e}}},M=function(){return{type:V}};function U(e){return function(t,a){t(A(e)),t(N(a().filters.inputValue)),t(x());var n=a().filters.byPopularity,r=a().filters.byRating;n&&t(D()),r&&t(T());t(G({value:0,label:"Genre"}))}}var L={byPopularity:!1,byRating:!1,genreId:0,inputValue:""};var F=Object(c.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(s.a)({},e,{loading:!0});case f:return Object(s.a)({},e,{items:t.payload.movies,loading:!1});case b:return Object(s.a)({},e,{loading:!1,error:t.payload.error});case g:return Object(s.a)({},e,{pages:t.payload.count});case j:case O:return Object(s.a)({},e,{currentPage:t.payload});case P:return Object(s.a)({},e,{windowWidth:t.payload.width});default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(s.a)({},e,{byPopularity:!e.byPopularity});case R:return Object(s.a)({},e,{byRating:!e.byRating});case S:return Object(s.a)({},e,{genreId:t.payload});case W:return Object(s.a)({},e,{inputValue:t.payload.inputValue});case V:return Object(s.a)({},e,{inputValue:""});default:return e}}});a(54),a(55),a(58),a(59);var B=a(33),H=a.n(B),Q=(a(60),a(42)),J=(a(61),[{value:28,label:"Action"},{value:12,label:"Adventure"},{value:16,label:"Animation"},{value:35,label:"Comedy"},{value:80,label:"Crime"},{value:99,label:"Documentary"},{value:18,label:"Drama"},{value:10751,label:"Family"},{value:14,label:"Fantasy"},{value:36,label:"History"},{value:27,label:"Horror"},{value:10402,label:"Music"},{value:9648,label:"Mystery"},{value:10749,label:"Romance"},{value:878,label:"Science Fiction"},{value:10770,label:"TV Movie"},{value:53,label:"Thriller"},{value:10752,label:"War"},{value:37,label:"Western"}]),z=Object(l.b)(function(e){return{inputValue:e.filters.inputValue,genreId:e.filters.genreId,byRating:e.filters.byRating,byPopularity:e.filters.byPopularity}},function(e){return{sendSearchQuery:function(t){return e(U(t))},setGenreValue:function(t){return e(function(e){return function(t,a){t(G(e));var n=a().filters.byPopularity,r=a().filters.byRating,i=a().filters.genreId;n&&t(D()),r&&t(T()),t(N(null,null,i)),t(x()),t(M())}}(t))},moviesByPopularity:function(){return e(function(e,t){e(D());var a=t().filters.byPopularity,n=t().filters.byRating,r=t().filters.genreId;n&&e(T()),e(N("",null,r,null,a)),e(x()),e(M())})},moviesByRating:function(){return e(function(e,t){e(T());var a=t().filters.genreId,n=t().filters.byRating;t().filters.byPopularity&&e(D()),e(N("",null,a,n)),e(x()),e(M())})}}})(function(e){var t=e.sendSearchQuery,a=e.inputValue,n=e.moviesByPopularity,i=e.moviesByRating,o=e.genreId,l=e.setGenreValue,c=e.byRating,u=e.byPopularity,s=J.find(function(e){return e.value===o}),p=c?" checked":"",d=u?" checked":"";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"filters-container"},r.a.createElement("div",{className:"filter-buttons-container"},r.a.createElement(Q.a,{className:"react-select-container",classNamePrefix:"react-select",value:s||null,isDisabled:!1,isLoading:!1,isClearable:!0,name:"Genre",onChange:function(e,t){"clear"===t.action?l():"select-option"===t.action&&l(e.value)},options:J,placeholder:"Select genre..."}),r.a.createElement("button",{className:"filter-buttons ratting-button ".concat(p),onClick:function(){return i()},type:"button"},"Rating"),r.a.createElement("button",{className:"filter-buttons popularity-button ".concat(d),onClick:function(){return n()},type:"button"},"Popularity")),r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("form",{className:"search-form",onSubmit:function(e){return e.preventDefault()}},r.a.createElement("input",{className:"search-input",placeholder:"Search films...",value:a,onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="Search films..."},onChange:function(e){return t(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"search-button"},r.a.createElement("i",{className:"fa fa-search"}))))))}),q=Object(l.b)(null,function(e){return{sendSearchQuery:function(t){return e(U(t))}}})(function(e){var t=e.sendSearchQuery;return r.a.createElement("header",{className:"header"},r.a.createElement("button",{type:"button",onClick:function(){t("")},className:"header-logo-wrapper"},r.a.createElement("img",{src:H.a,className:"header-logo",alt:"logo"}),r.a.createElement("span",{className:"header-text"},"Movies App")),r.a.createElement(z,null))}),Y=a(11),K=a(12),X=a(14),Z=a(13),$=a(15),ee=(a(70),a(37)),te=a.n(ee),ae=a(38),ne=a.n(ae),re=a(39),ie=a.n(re),oe=function(){return r.a.createElement("img",{src:ie.a,className:"movie-poster",alt:"fallback"})},le=function(e){var t=e.poster,a=e.id,n=e.title,i=e.rank,o=e.overview,l=t?"https://image.tmdb.org/t/p/w200/".concat(t):"https://image.tmdb.org/t/p/w200/xPu5camdNW7ga5QeHGJhiMbQ62B.jpg";return r.a.createElement("li",{className:"movie-wrapper"},r.a.createElement("a",{href:"https://www.themoviedb.org/movie/".concat(a),target:"_blank",rel:"noopener noreferrer","aria-label":"Link to movie description on movieDB site"},r.a.createElement(te.a,{className:"movie-poster",src:l,alt:n,loader:r.a.createElement(ne.a,{type:"Triangle",color:"rgba(245, 245, 245, 0.9)",height:100,width:100}),unloader:r.a.createElement(oe,null)})),r.a.createElement("div",{className:"movie-info"},r.a.createElement("div",null,r.a.createElement("a",{href:"https://www.themoviedb.org/movie/".concat(a),target:"_blank",rel:"noopener noreferrer","aria-label":"Link to movie description on movieDB site"},r.a.createElement("span",{className:"movie-title"},n)),r.a.createElement("span",{className:"movie-rank"},r.a.createElement("span",null,"IMDb"),r.a.createElement("i",{className:"fas fa-star"}),r.a.createElement("span",{className:"movie-rank-number"},i))),r.a.createElement("span",null,o)))},ce=(a(102),function(e){function t(){return Object(Y.a)(this,t),Object(X.a)(this,Object(Z.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){this.props.downloadMovies()}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.loading,n=e.items;if(t)return r.a.createElement("div",{className:"main-error"},r.a.createElement("div",null,"Error!",t));if(a)return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",{className:"loading"},"Loading..."));var i=n.map(function(e){return r.a.createElement(le,{key:e.id,id:e.id,title:e.title,overview:e.overview,poster:e.poster_path,rank:e.vote_average})});return r.a.createElement("main",{className:"main-wrapper"},r.a.createElement("ul",{className:"movies-list"},i))}}]),t}(n.Component)),ue=Object(l.b)(function(e){return{items:e.movies.items,loading:e.movies.loading,error:e.movies.error}},function(e){return{downloadMovies:function(){e(N())}}})(ce),se=a(8),pe=a(40),de=a.n(pe),me=(a(106),function(e){function t(e){var a;return Object(Y.a)(this,t),(a=Object(X.a)(this,Object(Z.a)(t).call(this,e))).updateWindowDimensions=a.updateWindowDimensions.bind(Object(se.a)(Object(se.a)(a))),a}return Object($.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.props.updateWindowWidth(window.innerWidth)}},{key:"render",value:function(){var e=this.props,t=e.inputValue,a=e.pages,n=e.genreId,i=e.byRating,o=e.byPopularity,l=e.windowWidth,c=e.currentPage,u=e.downloadMovies,s=e.nextPage;return r.a.createElement("div",{className:"pagination-wrapper"},r.a.createElement(de.a,{previousLabel:"previous",pageClassName:"page",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:Math.min(a,1e3),marginPagesDisplayed:1,pageRangeDisplayed:l>1e3?8:l<=1e3&&l>600?4:1,onPageChange:function(e){return function(e){window.scrollTo({top:0});var a=e.selected+1;s(a),u(t,a,n,i,o)}(e)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active",forcePage:c-1}))}}]),t}(n.Component)),ve=Object(l.b)(function(e){return{inputValue:e.filters.inputValue,pages:e.movies.pages,currentPage:e.movies.currentPage,windowWidth:e.movies.windowWidth,genreId:e.filters.genreId,byRating:e.filters.byRating,byPopularity:e.filters.byPopularity}},function(e){return{downloadMovies:function(t,a,n,r,i){e(N(t,a,n,r,i))},nextPage:function(t){e(function(e){return{type:O,payload:e}}(t))},updateWindowWidth:function(t){e(function(e){return{type:P,payload:{width:e}}}(t))}}})(me),fe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,null),r.a.createElement(ue,null),r.a.createElement(ve,null))},be=Object(c.e)(F,Object(c.d)(Object(c.a)(u.a)));o.a.render(r.a.createElement(l.a,{store:be},r.a.createElement(fe,null)),document.getElementById("root"))},33:function(e,t,a){e.exports=a.p+"static/media/logo.fce7ce8f.svg"},39:function(e,t,a){e.exports=a.p+"static/media/FallbackImg.d4e90b1e.jpg"},43:function(e,t,a){e.exports=a(107)},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},70:function(e,t,a){}},[[43,1,2]]]);
//# sourceMappingURL=main.8520c76a.chunk.js.map