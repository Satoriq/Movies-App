(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/logo.fce7ce8f.svg"},35:function(e,t,a){e.exports=a.p+"static/media/FallbackImg.d4e90b1e.jpg"},39:function(e,t,a){e.exports=a(99)},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},62:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),l=a.n(c),o=a(4),i=a(11),u=a(27),s=a(3),p=a(18),d=a.n(p),v=a(28),f="FETCH_MOVIES_BEGIN",m="FETCH_MOVIES_SUCCESS",g="FETCH_MOVIES_FAILURE",b="FETCH_PAGE_COUNT",y=function(){return{type:f}},h=function(e){return{type:m,payload:{movies:e}}},E=function(e){return{type:b,payload:e}};function _(e){if(!e.ok)throw Error(e.statusText);return e}var O="5874acfd11651a28c55771624f7021f4",w="https://api.themoviedb.org/3";function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return function(){var c=Object(v.a)(d.a.mark(function c(l){var o,i,u,s,p;return d.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(l(y()),console.log(a),console.log(e),!r||!a){c.next=9;break}return c.next=6,fetch("".concat(w,"/discover/movie?api_key=").concat(O,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=").concat(t,"&with_genres=").concat(a));case 6:o=c.sent,c.next=42;break;case 9:if(!r){c.next=15;break}return c.next=12,fetch("".concat(w,"/discover/movie?api_key=").concat(O,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=").concat(t));case 12:o=c.sent,c.next=42;break;case 15:if(!n||!a){c.next=21;break}return c.next=18,fetch("".concat(w,"/discover/movie?sort_by=vote_average.desc&api_key=").concat(O,"&page=").concat(t,"&vote_count.gte=2200&with_genres=").concat(a));case 18:o=c.sent,c.next=42;break;case 21:if(!n){c.next=27;break}return c.next=24,fetch("".concat(w,"/discover/movie?sort_by=vote_average.desc&api_key=").concat(O,"&page=").concat(t,"&vote_count.gte=2200"));case 24:o=c.sent,c.next=42;break;case 27:if(!e){c.next=33;break}return c.next=30,fetch("".concat(w,"/search/movie?api_key=").concat(O,"&query=").concat(e,"&page=").concat(t));case 30:o=c.sent,c.next=42;break;case 33:if(!a){c.next=39;break}return c.next=36,fetch("".concat(w,"/discover/movie?api_key=").concat(O,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=").concat(t,"&with_genres=").concat(a));case 36:o=c.sent,c.next=42;break;case 39:return c.next=41,fetch("".concat(w,"/movie/now_playing?api_key=").concat(O,"&page=").concat(t));case 41:o=c.sent;case 42:return i=_(o),c.next=45,i.json();case 45:return u=c.sent,s=u.results,console.log(u),console.log(u.results),p=u.total_pages,l(E(p)),l(h(s)),c.abrupt("return",u.results);case 53:case"end":return c.stop()}},c)}));return function(e){return c.apply(this,arguments)}}()}var R={items:[],loading:!1,error:null};var k="TOGGLE_POPULARITY",j="TOGGLE_RATINGS",x=function(){return{type:k}},C=function(){return{type:j}};var P="CHANGE_GENRE_VALUE",V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:0,label:"Genre"};return{type:P,payload:e}};var S="FETCH_MOVIES_ADD_INPUT_VALUE",T="RESET_PAGE_NUMBER",G="RESET_INPUT_VALUE",I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:S,payload:{inputValue:e}}},M=function(){return{type:T,payload:1}},A=function(){return{type:G}};function L(e){return function(t,a){t(I(e)),t(N(a().inputReducers.inputValue)),t(M());t(V({value:0,label:"Genre"}))}}var U={inputValue:""};var D="CHANGE_PAGE",F={pages:0,currentPage:1};var H={value:0,label:"Genre"};var B={byPopularity:!1,byRating:!1};var Q=Object(i.c)({fetching:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(s.a)({},e,{loading:!0,error:null});case m:return Object(s.a)({},e,{items:t.payload.movies,loading:!1});case g:return Object(s.a)({},e,{loading:!1,error:t.payload.error,items:t.payload.movies});default:return e}},inputReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(s.a)({},e,{inputValue:t.payload.inputValue});case G:return Object(s.a)({},e,{inputValue:""});default:return e}},paginationReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:case D:return Object(s.a)({},e,{currentPage:t.payload});case b:return Object(s.a)({},e,{pages:t.payload});default:return e}},genreReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(s.a)({},e,{value:t.payload.value,label:t.payload.label});default:return e}},filterReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;switch((arguments.length>1?arguments[1]:void 0).type){case k:return Object(s.a)({},e,{byPopularity:!e.byPopularity});case j:return Object(s.a)({},e,{byRating:!e.byRating});default:return e}}}),X=(a(50),a(6)),J=a(7),W=a(9),q=a(8),Y=a(10),z=a(29),K=a.n(z),Z=(a(51),a(38)),$=(a(52),[{value:28,label:"Action"},{value:12,label:"Adventure"},{value:16,label:"Animation"},{value:35,label:"Comedy"},{value:80,label:"Crime"},{value:99,label:"Documentary"},{value:18,label:"Drama"},{value:10751,label:"Family"},{value:14,label:"Fantasy"},{value:36,label:"History"},{value:27,label:"Horror"},{value:10402,label:"Music"},{value:9648,label:"Mystery"},{value:10749,label:"Romance"},{value:878,label:"Science Fiction"},{value:10770,label:"TV Movie"},{value:53,label:"Thriller"},{value:10752,label:"War"},{value:37,label:"Western"}]),ee=function(e){function t(){var e,a;Object(X.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(W.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e,t){if("clear"===t.action){a.props.setGenreValue({value:0,label:"Genre"})}else"select-option"===t.action&&a.props.setGenreValue(e)},a}return Object(Y.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this,t=$.find(function(t){return t.value===e.props.genreId});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"filters-container"},r.a.createElement("div",{className:"filter-buttons-container"},r.a.createElement(Z.a,{className:"react-select-container",classNamePrefix:"react-select",value:t||null,isDisabled:!1,isLoading:!1,isClearable:!0,name:"Genre",onChange:this.handleChange,options:$,placeholder:"Select genre..."}),r.a.createElement("button",{className:"filter-button ratting-button",onClick:function(){return e.props.fetchMoviesByRating()},type:"button"},"Rating"),r.a.createElement("button",{className:"filter-button popularity-button",onClick:function(){return e.props.fetchMoviesByPopularity()},type:"button"},"Popularity")),r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("form",{className:"search-form",onSubmit:function(e){return e.preventDefault()}},r.a.createElement("input",{className:"search-input",placeholder:"Search films...",value:this.props.inputValue,onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="Search films..."},onChange:function(t){return e.props.sendSearchQuery(t.target.value)}}),r.a.createElement("button",{type:"submit",className:"search-button"},r.a.createElement("i",{className:"fa fa-search"}))))))}}]),t}(n.Component),te=Object(o.b)(function(e){return{inputValue:e.inputReducers.inputValue,genreId:e.genreReducers.value,genreLabel:e.genreReducers}},function(e){return{sendSearchQuery:function(t){return e(L(t))},setGenreValue:function(t){return e(function(e){return function(t,a){t(V(e));var n=a().filterReducers.byPopularity,r=a().filterReducers.byRating,c=a().genreReducers.value;n&&t(x()),r&&t(C()),t(N(null,null,c)),console.log(c),t(M()),t(A())}}(t))},fetchMoviesByPopularity:function(){return e(function(e,t){e(x());var a=t().filterReducers.byPopularity,n=t().genreReducers.value,r=t().filterReducers.byRating;e(x()),r&&e(C()),e(N("",null,n,null,a)),console.log(a),e(M()),e(A())})},fetchMoviesByRating:function(){return e(function(e,t){e(C());var a=t().genreReducers.value,n=t().filterReducers.byRating;t().filterReducers.byPopularity&&e(x()),e(N("",null,a,n)),console.log(n),e(M()),e(A())})}}})(ee),ae=Object(o.b)(function(e){return{inputValue:e.inputReducers.inputValue}},function(e){return{sendSearchQuery:function(t){return e(L(t))}}})(function(e){return r.a.createElement("div",{className:"header"},r.a.createElement("button",{type:"button",onClick:function(){e.sendSearchQuery("")},className:"header-logo-wrapper"},r.a.createElement("img",{src:K.a,className:"header-logo",alt:"logo"}),r.a.createElement("span",{className:"header-text"},"Movies App")),r.a.createElement(te,null))}),ne=(a(62),a(33)),re=a.n(ne),ce=a(34),le=a.n(ce),oe=a(35),ie=a.n(oe),ue=function(){return r.a.createElement("img",{src:ie.a,className:"movie-poster",alt:"fallback"})},se=function(e){var t=e.poster?"https://image.tmdb.org/t/p/w200/".concat(e.poster):"https://image.tmdb.org/t/p/w200/xPu5camdNW7ga5QeHGJhiMbQ62B.jpg";return r.a.createElement("li",{className:"movie-wrapper"},r.a.createElement("a",{href:"https://www.themoviedb.org/movie/".concat(e.id),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(re.a,{className:"movie-poster",src:t,loader:r.a.createElement(le.a,{type:"Triangle",color:"rgba(245, 245, 245, 0.9)",height:100,width:100}),unloader:r.a.createElement(ue,null)})),r.a.createElement("div",{className:"movie-info"},r.a.createElement("div",null,r.a.createElement("a",{href:"https://www.themoviedb.org/movie/".concat(e.id),target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"movie-title"},e.title)),r.a.createElement("span",{className:"movie-rank"},r.a.createElement("span",null,"IMDb"),r.a.createElement("i",{className:"fas fa-star"}),r.a.createElement("span",{className:"movie-rank-number"},e.rank))),r.a.createElement("span",{className:"movie-overview"},e.overview)))},pe=(a(94),function(e){function t(){return Object(X.a)(this,t),Object(W.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(Y.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){this.props.downloadMovies()}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.loading,n=e.items;if(t)return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",null,"Error!",t.message),";");if(a)return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",{className:"loading"},"Loading..."));var c=n.map(function(e){return r.a.createElement(se,{key:e.id,id:e.id,title:e.title,overview:e.overview,poster:e.poster_path,rank:e.vote_average})});return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("ul",{className:"movies-list"},c))}}]),t}(n.Component)),de=Object(o.b)(function(e){return{items:e.fetching.items,loading:e.fetching.loading,error:e.fetching.error}},function(e){return{downloadMovies:function(t,a){e(N(t,a))}}})(pe),ve=(a(95),a(36)),fe=a.n(ve),me=function(e){function t(){return Object(X.a)(this,t),Object(W.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(Y.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pagination-wrapper"},r.a.createElement(fe.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:this.props.pages,marginPagesDisplayed:2,pageRangeDisplayed:8,onPageChange:function(t){return function(t){var a=t.selected+1;window.scrollTo({top:0,behavior:"smooth"}),console.log(a),console.log(e.props.genreId),e.props.nextPage(a),e.props.downloadMovies(e.props.inputValue,a,e.props.genreId,e.props.byRating,e.props.byPopularity)}(t)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active",forcePage:this.props.currentPage-1})))}}]),t}(n.Component),ge=Object(o.b)(function(e){return{inputValue:e.inputReducers.inputValue,pages:e.paginationReducers.pages,currentPage:e.paginationReducers.currentPage,genreId:e.genreReducers.value,byRating:e.filterReducers.byRating,byPopularity:e.filterReducers.byPopularity}},function(e){return{downloadMovies:function(t,a,n,r,c){e(N(t,a,n,r,c))},nextPage:function(t){e(function(e){return{type:D,payload:e}}(t))}}})(me),be=function(e){function t(){return Object(X.a)(this,t),Object(W.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(Y.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ae,null),r.a.createElement(de,null),r.a.createElement(ge,null))}}]),t}(n.Component),ye=Object(i.e)(Q,Object(i.d)(Object(i.a)(u.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));l.a.render(r.a.createElement(o.a,{store:ye},r.a.createElement(be,null)),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.536346ad.chunk.js.map