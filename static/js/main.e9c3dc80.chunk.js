(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a.p+"static/media/logo.fce7ce8f.svg"},26:function(e,t,a){e.exports=a.p+"static/media/FallbackImg.d4e90b1e.jpg"},28:function(e,t,a){e.exports=a(78)},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),i=a(3),l=a(4),u=a(21),s=a(2),p=a(15),m=a.n(p),d=a(22),f="FETCH_MOVIES_BEGIN",g="FETCH_MOVIES_SUCCESS",v="FETCH_MOVIES_FAILURE",h="FETCH_PAGE_COUNT",b=function(){return{type:f}},E=function(e){return{type:g,payload:{movies:e}}},y=function(e){return{type:h,payload:e}};function w(e){if(!e.ok)throw Error(e.statusText);return e}var N="5874acfd11651a28c55771624f7021f4",O="https://api.themoviedb.org/3";function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var a=Object(d.a)(m.a.mark(function a(n){var r,c,o,i,l;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n(b()),!e){a.next=7;break}return a.next=4,fetch("".concat(O,"/search/movie?api_key=").concat(N,"&query=").concat(e,"&page=").concat(t));case 4:r=a.sent,a.next=10;break;case 7:return a.next=9,fetch("".concat(O,"/movie/now_playing?api_key=").concat(N,"&page=").concat(t));case 9:r=a.sent;case 10:return c=w(r),a.next=13,c.json();case 13:return o=a.sent,i=o.results,console.log(o),console.log(o.results),l=o.total_pages,n(y(l)),n(E(i)),a.abrupt("return",o.results);case 21:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}var k={items:[],loading:!1,error:null};var _="FETCH_MOVIES_ADD_INPUT_VALUE",C="RESET_PAGE_NUMBER",x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:_,payload:{inputValue:e}}},V=function(){return{type:C,payload:1}};var P={inputValue:""};var S="CHANGE_PAGE",M={pages:0,currentPage:1,offset:0};var R=Object(l.c)({fetching:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(s.a)({},e,{loading:!0,error:null});case g:return Object(s.a)({},e,{items:t.payload.movies,loading:!1});case v:return Object(s.a)({},e,{loading:!1,error:t.payload.error,items:t.payload.movies});default:return e}},inputReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(s.a)({},e,{inputValue:t.payload.inputValue});default:return e}},paginationReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:case S:return Object(s.a)({},e,{currentPage:t.payload});case h:return Object(s.a)({},e,{pages:t.payload});default:return e}}}),I=(a(39),a(5)),T=a(6),F=a(8),A=a(7),D=a(9),H=a(23),G=a.n(H),L=(a(40),Object(i.b)(function(e){return{inputValue:e.inputReducers.inputValue}},function(e){return{sendSearchQuery:function(t){return e((a=t,function(e,t){e(x(a)),e(j(t().inputReducers.inputValue)),e(V())}));var a}}})(function(e){return r.a.createElement("div",{className:"header"},r.a.createElement("button",{type:"button",onClick:function(){e.sendSearchQuery("")},className:"header-logo-wrapper"},r.a.createElement("img",{src:G.a,className:"header-logo",alt:"logo"}),r.a.createElement("span",{className:"header-text"},"Movies App")),r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("form",{className:"search-form",onSubmit:function(e){return e.preventDefault()}},r.a.createElement("input",{className:"search-input",placeholder:"Search films...",value:e.inputValue,onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="Search films..."},onChange:function(t){return e.sendSearchQuery(t.target.value)}}),r.a.createElement("button",{type:"submit",className:"search-button"},r.a.createElement("i",{className:"fa fa-search"})))))})),U=(a(41),a(24)),B=a.n(U),Q=a(25),J=a.n(Q),q=a(26),W=a.n(q),z=function(){return r.a.createElement("img",{src:W.a,className:"movie-poster",alt:"fallback"})},K=function(e){return r.a.createElement("li",{className:"movie-wrapper"},r.a.createElement("a",{href:"https://www.themoviedb.org/movie/".concat(e.id),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(B.a,{className:"movie-poster",src:["https://image.tmdb.org/t/p/w200/".concat(e.poster),"https://image.tmdb.org/t/p/w200/xPu5camdNW7ga5QeHGJhiMbQ62B.jpg"],loader:r.a.createElement(J.a,{type:"Triangle",color:"rgba(245, 245, 245, 0.9)",height:100,width:100}),unloader:r.a.createElement(z,null)})),r.a.createElement("div",{className:"movie-info"},r.a.createElement("div",null,r.a.createElement("a",{href:"https://www.themoviedb.org/movie/".concat(e.id),target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"movie-title"},e.title)),r.a.createElement("span",{className:"movie-rank"},r.a.createElement("span",null,"IMDb"),r.a.createElement("i",{className:"fas fa-star"}),r.a.createElement("span",{className:"movie-rank-number"},e.rank))),r.a.createElement("span",{className:"movie-overview"},e.overview)))},X=(a(73),function(e){function t(){return Object(I.a)(this,t),Object(F.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.downloadMovies()}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.loading,n=e.items;if(t)return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",null,"Error!",t.message),";");if(a)return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",{className:"loading"},"Loading..."));var c=n.map(function(e){return r.a.createElement(K,{key:e.id,id:e.id,title:e.title,overview:e.overview,poster:e.poster_path,rank:e.vote_average})});return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("ul",{className:"movies-list"},c))}}]),t}(n.Component)),Y=Object(i.b)(function(e){return{items:e.fetching.items,loading:e.fetching.loading,error:e.fetching.error}},function(e){return{downloadMovies:function(t,a){e(j(t,a))}}})(X),Z=(a(74),a(27)),$=a.n(Z),ee=function(e){function t(){return Object(I.a)(this,t),Object(F.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pagination-wrapper"},r.a.createElement($.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:this.props.pages,marginPagesDisplayed:2,pageRangeDisplayed:8,onPageChange:function(t){return function(t){var a=t.selected+1;console.log(a),e.props.nextPage(a),e.props.downloadMovies(e.props.inputValue,a)}(t)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active",forcePage:this.props.currentPage-1})))}}]),t}(n.Component),te=Object(i.b)(function(e){return{inputValue:e.inputReducers.inputValue,pages:e.paginationReducers.pages,currentPage:e.paginationReducers.currentPage}},function(e){return{downloadMovies:function(t,a){e(j(t,a))},nextPage:function(t){e(function(e){return{type:S,payload:e}}(t))}}})(ee),ae=function(e){function t(){return Object(I.a)(this,t),Object(F.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement(Y,null),r.a.createElement(te,null))}}]),t}(n.Component),ne=Object(l.e)(R,Object(l.d)(Object(l.a)(u.a)));o.a.render(r.a.createElement(i.a,{store:ne},r.a.createElement(ae,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.e9c3dc80.chunk.js.map