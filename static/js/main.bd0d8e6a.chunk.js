(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(5),c=a.n(i),l=a(4),o=a(6),u=a(30),s=(a(53),a(54),a(57),a(32)),p=a.n(s),d=a(3),v=a(20),m=a.n(v),f=a(33),g="FETCH_MOVIES_BEGIN",b="FETCH_MOVIES_SUCCESS",y="FETCH_MOVIES_FAILURE",h="FETCH_PAGE_COUNT",E=function(){return{type:g}},w=function(e){return{type:b,payload:{movies:e}}},_=function(e){return{type:h,payload:e}},R=function(e){return e.ok||console.log(e.statusText),e},N="5874acfd11651a28c55771624f7021f4",k="https://api.themoviedb.org/3";function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return function(){var i=Object(f.a)(m.a.mark(function i(c){var l,o,u,s,p;return m.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(c(E()),!r||!a){i.next=7;break}return i.next=4,fetch("".concat(k,"/discover/movie?api_key=").concat(N,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=").concat(t,"&with_genres=").concat(a));case 4:l=i.sent,i.next=40;break;case 7:if(!r){i.next=13;break}return i.next=10,fetch("".concat(k,"/discover/movie?api_key=").concat(N,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=").concat(t));case 10:l=i.sent,i.next=40;break;case 13:if(!n||!a){i.next=19;break}return i.next=16,fetch("".concat(k,"/discover/movie?sort_by=vote_average.desc&api_key=").concat(N,"&page=").concat(t,"&vote_count.gte=2200&with_genres=").concat(a));case 16:l=i.sent,i.next=40;break;case 19:if(!n){i.next=25;break}return i.next=22,fetch("".concat(k,"/discover/movie?sort_by=vote_average.desc&api_key=").concat(N,"&page=").concat(t,"&vote_count.gte=2200"));case 22:l=i.sent,i.next=40;break;case 25:if(!e){i.next=31;break}return i.next=28,fetch("".concat(k,"/search/movie?api_key=").concat(N,"&query=").concat(e,"&page=").concat(t));case 28:l=i.sent,i.next=40;break;case 31:if(!a){i.next=37;break}return i.next=34,fetch("".concat(k,"/discover/movie?api_key=").concat(N,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=").concat(t,"&with_genres=").concat(a));case 34:l=i.sent,i.next=40;break;case 37:return i.next=39,fetch("".concat(k,"/movie/now_playing?api_key=").concat(N,"&page=").concat(t));case 39:l=i.sent;case 40:return o=R(l),i.next=43,o.json();case 43:return u=i.sent,s=u.results,p=u.total_pages,c(_(p)),c(w(s)),i.abrupt("return",u.results);case 49:case"end":return i.stop()}},i)}));return function(e){return i.apply(this,arguments)}}()}var j={items:[],loading:!1,error:null};var P="CHANGE_PAGE",x="UPDATE_WINDOW_WIDTH",C="RESET_PAGE_NUMBER",W=function(){return{type:C,payload:1}},S="TOGGLE_POPULARITY",V="TOGGLE_RATINGS",G=function(){return{type:S}},T=function(){return{type:V}};var D="CHANGE_GENRE_VALUE",I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:0,label:"Genre"};return{type:D,payload:e}};var A="CHANGE_INPUT_VALUE",M="RESET_INPUT_VALUE",U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:A,payload:{inputValue:e}}},L=function(){return{type:M}};function F(e){return function(t,a){t(U(e)),t(O(a().inputReducers.inputValue)),t(W());var n=a().filterReducers.byPopularity,r=a().filterReducers.byRating;n&&t(G()),r&&t(T());t(I({value:0,label:"Genre"}))}}var H={inputValue:""};var B={pages:0,currentPage:1,windowWidth:null};var Q={value:0,label:"Genre"};var J={byPopularity:!1,byRating:!1};var z=Object(o.c)({fetching:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(d.a)({},e,{loading:!0,error:null});case b:return Object(d.a)({},e,{items:t.payload.movies,loading:!1});case y:return Object(d.a)({},e,{loading:!1,error:t.payload.error,items:t.payload.movies});default:return e}},inputReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(d.a)({},e,{inputValue:t.payload.inputValue});case M:return Object(d.a)({},e,{inputValue:""});default:return e}},paginationReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:case P:return Object(d.a)({},e,{currentPage:t.payload});case h:return Object(d.a)({},e,{pages:t.payload});case x:return Object(d.a)({},e,{windowWidth:t.payload});default:return e}},genreReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(d.a)({},e,{value:t.payload.value,label:t.payload.label});default:return e}},filterReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;switch((arguments.length>1?arguments[1]:void 0).type){case S:return Object(d.a)({},e,{byPopularity:!e.byPopularity});case V:return Object(d.a)({},e,{byRating:!e.byRating});default:return e}}}),q=(a(60),a(34)),Y=a.n(q),K=(a(61),a(43)),X=(a(62),Object(l.b)(function(e){return{inputValue:e.inputReducers.inputValue,genreId:e.genreReducers.value}},function(e){return{sendSearchQuery:function(t){return e(F(t))},setGenreValue:function(t){return e(function(e){return function(t,a){t(I(e));var n=a().filterReducers.byPopularity,r=a().filterReducers.byRating,i=a().genreReducers.value;n&&t(G()),r&&t(T()),t(O(null,null,i)),t(W()),t(L())}}(t))},moviesByPopularity:function(){return e(function(e,t){e(G());var a=t().filterReducers.byPopularity,n=t().filterReducers.byRating,r=t().genreReducers.value;n&&e(T()),e(O("",null,r,null,a)),e(W()),e(L())})},moviesByRating:function(){return e(function(e,t){e(T());var a=t().genreReducers.value,n=t().filterReducers.byRating;t().filterReducers.byPopularity&&e(G()),e(O("",null,a,n)),e(W()),e(L())})}}})(function(e){var t=e.sendSearchQuery,a=e.inputValue,n=e.moviesByPopularity,i=e.moviesByRating,c=e.genreId,l=e.setGenreValue,o=[{value:28,label:"Action"},{value:12,label:"Adventure"},{value:16,label:"Animation"},{value:35,label:"Comedy"},{value:80,label:"Crime"},{value:99,label:"Documentary"},{value:18,label:"Drama"},{value:10751,label:"Family"},{value:14,label:"Fantasy"},{value:36,label:"History"},{value:27,label:"Horror"},{value:10402,label:"Music"},{value:9648,label:"Mystery"},{value:10749,label:"Romance"},{value:878,label:"Science Fiction"},{value:10770,label:"TV Movie"},{value:53,label:"Thriller"},{value:10752,label:"War"},{value:37,label:"Western"}],u=o.find(function(e){return e.value===c});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"filters-container"},r.a.createElement("div",{className:"filter-buttons-container"},r.a.createElement(K.a,{className:"react-select-container",classNamePrefix:"react-select",value:u||null,isDisabled:!1,isLoading:!1,isClearable:!0,name:"Genre",onChange:function(e,t){"clear"===t.action?l():"select-option"===t.action&&l(e)},options:o,placeholder:"Select genre..."}),r.a.createElement("button",{className:"filter-buttons ratting-button",onClick:function(){return i()},type:"button"},"Rating"),r.a.createElement("button",{className:"filter-buttons popularity-button",onClick:function(){return n()},type:"button"},"Popularity")),r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("form",{className:"search-form",onSubmit:function(e){return e.preventDefault()}},r.a.createElement("input",{className:"search-input",placeholder:"Search films...",value:a,onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="Search films..."},onChange:function(e){return t(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"search-button"},r.a.createElement("i",{className:"fa fa-search"}))))))})),Z=Object(l.b)(null,function(e){return{sendSearchQuery:function(t){return e(F(t))}}})(function(e){var t=e.sendSearchQuery;return r.a.createElement("div",{className:"header"},r.a.createElement("button",{type:"button",onClick:function(){t("")},className:"header-logo-wrapper"},r.a.createElement("img",{src:Y.a,className:"header-logo",alt:"logo"}),r.a.createElement("span",{className:"header-text"},"Movies App")),r.a.createElement(X,null))}),$=a(11),ee=a(12),te=a(15),ae=a(13),ne=a(14),re=(a(71),a(38)),ie=a.n(re),ce=a(39),le=a.n(ce),oe=a(40),ue=a.n(oe),se=function(){return r.a.createElement("img",{src:ue.a,className:"movie-poster",alt:"fallback"})},pe=function(e){var t=e.poster,a=e.id,n=e.title,i=e.rank,c=e.overview,l=t?"https://image.tmdb.org/t/p/w200/".concat(t):"https://image.tmdb.org/t/p/w200/xPu5camdNW7ga5QeHGJhiMbQ62B.jpg";return r.a.createElement("li",{className:"movie-wrapper"},r.a.createElement("a",{href:"https://www.themoviedb.org/movie/".concat(a),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(ie.a,{className:"movie-poster",src:l,loader:r.a.createElement(le.a,{type:"Triangle",color:"rgba(245, 245, 245, 0.9)",height:100,width:100}),unloader:r.a.createElement(se,null)})),r.a.createElement("div",{className:"movie-info"},r.a.createElement("div",null,r.a.createElement("a",{href:"https://www.themoviedb.org/movie/".concat(a),target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"movie-title"},n)),r.a.createElement("span",{className:"movie-rank"},r.a.createElement("span",null,"IMDb"),r.a.createElement("i",{className:"fas fa-star"}),r.a.createElement("span",{className:"movie-rank-number"},i))),r.a.createElement("span",null,c)))},de=(a(103),function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"componentDidMount",value:function(){this.props.downloadMovies()}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.loading,n=e.items;if(t)return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",null,"Error!",t.message),";");if(a)return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",{className:"loading"},"Loading..."));var i=n.map(function(e){return r.a.createElement(pe,{key:e.id,id:e.id,title:e.title,overview:e.overview,poster:e.poster_path,rank:e.vote_average})});return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("ul",{className:"movies-list"},i))}}]),t}(n.Component)),ve=Object(l.b)(function(e){return{items:e.fetching.items,loading:e.fetching.loading,error:e.fetching.error}},function(e){return{downloadMovies:function(){e(O())}}})(de),me=a(8),fe=a(41),ge=a.n(fe),be=(a(107),function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(te.a)(this,Object(ae.a)(t).call(this,e))).updateWindowDimensions=a.updateWindowDimensions.bind(Object(me.a)(Object(me.a)(a))),a}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.props.updateWindowWidth(window.innerWidth)}},{key:"render",value:function(){var e=this.props,t=e.inputValue,a=e.pages,n=e.genreId,i=e.byRating,c=e.byPopularity,l=e.windowWidth,o=e.currentPage,u=e.downloadMovies,s=e.nextPage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pagination-wrapper"},r.a.createElement(ge.a,{previousLabel:"previous",pageClassName:"page",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:a,marginPagesDisplayed:1,pageRangeDisplayed:l>1e3?8:l<=1e3&&l>600?4:1,onPageChange:function(e){return function(e){window.scrollTo({top:0});var a=e.selected+1;s(a),u(t,a,n,i,c)}(e)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active",forcePage:o-1})))}}]),t}(n.Component)),ye=Object(l.b)(function(e){return{inputValue:e.inputReducers.inputValue,pages:e.paginationReducers.pages,currentPage:e.paginationReducers.currentPage,windowWidth:e.paginationReducers.windowWidth,genreId:e.genreReducers.value,byRating:e.filterReducers.byRating,byPopularity:e.filterReducers.byPopularity}},function(e){return{downloadMovies:function(t,a,n,r,i){e(O(t,a,n,r,i))},nextPage:function(t){e(function(e){return{type:P,payload:e}}(t))},updateWindowWidth:function(t){e(function(e){return{type:x,payload:e}}(t))}}})(be),he=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,null),r.a.createElement(ve,null),r.a.createElement(ye,null))};p.a.polyfill();var Ee=Object(o.e)(z,Object(o.d)(Object(o.a)(u.a)));c.a.render(r.a.createElement(l.a,{store:Ee},r.a.createElement(he,null)),document.getElementById("root"))},34:function(e,t,a){e.exports=a.p+"static/media/logo.fce7ce8f.svg"},40:function(e,t,a){e.exports=a.p+"static/media/FallbackImg.d4e90b1e.jpg"},44:function(e,t,a){e.exports=a(108)},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},71:function(e,t,a){}},[[44,1,2]]]);
//# sourceMappingURL=main.bd0d8e6a.chunk.js.map