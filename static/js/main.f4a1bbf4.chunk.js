(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(5),c=a.n(i),l=a(4),o=a(6),u=a(30),s=(a(52),a(53),a(56),a(3)),d=a(20),p=a.n(d),m=a(32),v="FETCH_MOVIES_BEGIN",f="FETCH_MOVIES_SUCCESS",b="FETCH_MOVIES_FAILURE",g="FETCH_PAGE_COUNT",y=function(){return{type:v}},h=function(e){return{type:f,payload:{movies:e}}},E=function(e){return{type:b,payload:{error:e}}},w=function(e){return{type:g,payload:{count:e}}},_="5874acfd11651a28c55771624f7021f4",R="https://api.themoviedb.org/3";function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return function(){var i=Object(m.a)(p.a.mark(function i(c){var l,o,u,s;return p.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(c(y()),i.prev=1,!r||!a){i.next=8;break}return i.next=5,fetch("".concat(R,"/discover/movie?api_key=").concat(_,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=").concat(t,"&with_genres=").concat(a));case 5:l=i.sent,i.next=41;break;case 8:if(!r){i.next=14;break}return i.next=11,fetch("".concat(R,"/discover/movie?api_key=").concat(_,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=").concat(t));case 11:l=i.sent,i.next=41;break;case 14:if(!n||!a){i.next=20;break}return i.next=17,fetch("".concat(R,"/discover/movie?sort_by=vote_average.desc&api_key=").concat(_,"&page=").concat(t,"&vote_count.gte=2200&with_genres=").concat(a));case 17:l=i.sent,i.next=41;break;case 20:if(!n){i.next=26;break}return i.next=23,fetch("".concat(R,"/discover/movie?sort_by=vote_average.desc&api_key=").concat(_,"&page=").concat(t,"&vote_count.gte=2200"));case 23:l=i.sent,i.next=41;break;case 26:if(!e){i.next=32;break}return i.next=29,fetch("".concat(R,"/search/movie?api_key=").concat(_,"&query=").concat(e,"&page=").concat(t));case 29:l=i.sent,i.next=41;break;case 32:if(!a){i.next=38;break}return i.next=35,fetch("".concat(R,"/discover/movie?api_key=").concat(_,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=").concat(t,"&with_genres=").concat(a));case 35:l=i.sent,i.next=41;break;case 38:return i.next=40,fetch("".concat(R,"/movie/now_playing?api_key=").concat(_,"&page=").concat(t));case 40:l=i.sent;case 41:i.next=47;break;case 43:return i.prev=43,i.t0=i.catch(1),c(E(" Failed to load!")),i.abrupt("return");case 47:return c(E(null)),i.next=50,l.json();case 50:o=i.sent,u=o.results,s=o.total_pages,c(w(s)),c(h(u));case 55:case"end":return i.stop()}},i,null,[[1,43]])}));return function(e){return i.apply(this,arguments)}}()}var k={items:[],loading:!1,error:null};var O="CHANGE_PAGE",P="UPDATE_WINDOW_WIDTH",j="RESET_PAGE_NUMBER",x=function(){return{type:j,payload:1}},C="TOGGLE_POPULARITY",S="TOGGLE_RATINGS",D=function(){return{type:C}},T=function(){return{type:S}};var V="CHANGE_GENRE_VALUE",W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:0,label:"Genre"};return{type:V,payload:e}};var G="CHANGE_INPUT_VALUE",I="RESET_INPUT_VALUE",L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:G,payload:{inputValue:e}}},A=function(){return{type:I}};function M(e){return function(t,a){t(L(e)),t(N(a().inputReducers.inputValue)),t(x());var n=a().filterReducers.byPopularity,r=a().filterReducers.byRating;n&&t(D()),r&&t(T());t(W({value:0,label:"Genre"}))}}var U={inputValue:""};var F={pages:0,currentPage:1,windowWidth:null};var B={value:0,label:"Genre"};var H={byPopularity:!1,byRating:!1};var Q=Object(o.c)({fetching:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(s.a)({},e,{loading:!0});case f:return Object(s.a)({},e,{items:t.payload.movies,loading:!1});case b:return Object(s.a)({},e,{loading:!1,error:t.payload.error});default:return e}},inputReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(s.a)({},e,{inputValue:t.payload.inputValue});case I:return Object(s.a)({},e,{inputValue:""});default:return e}},paginationReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:case O:return Object(s.a)({},e,{currentPage:t.payload});case g:return Object(s.a)({},e,{pages:t.payload.count});case P:return Object(s.a)({},e,{windowWidth:t.payload.width});default:return e}},genreReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(s.a)({},e,{value:t.payload.value,label:t.payload.label});default:return e}},filterReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;switch((arguments.length>1?arguments[1]:void 0).type){case C:return Object(s.a)({},e,{byPopularity:!e.byPopularity});case S:return Object(s.a)({},e,{byRating:!e.byRating});default:return e}}}),X=(a(59),a(33)),J=a.n(X),z=(a(60),a(42)),q=(a(61),Object(l.b)(function(e){return{inputValue:e.inputReducers.inputValue,genreId:e.genreReducers.value,byRating:e.filterReducers.byRating,byPopularity:e.filterReducers.byPopularity}},function(e){return{sendSearchQuery:function(t){return e(M(t))},setGenreValue:function(t){return e(function(e){return function(t,a){t(W(e));var n=a().filterReducers.byPopularity,r=a().filterReducers.byRating,i=a().genreReducers.value;n&&t(D()),r&&t(T()),t(N(null,null,i)),t(x()),t(A())}}(t))},moviesByPopularity:function(){return e(function(e,t){e(D());var a=t().filterReducers.byPopularity,n=t().filterReducers.byRating,r=t().genreReducers.value;n&&e(T()),e(N("",null,r,null,a)),e(x()),e(A())})},moviesByRating:function(){return e(function(e,t){e(T());var a=t().genreReducers.value,n=t().filterReducers.byRating;t().filterReducers.byPopularity&&e(D()),e(N("",null,a,n)),e(x()),e(A())})}}})(function(e){var t=e.sendSearchQuery,a=e.inputValue,n=e.moviesByPopularity,i=e.moviesByRating,c=e.genreId,l=e.setGenreValue,o=e.byRating,u=e.byPopularity,s=[{value:28,label:"Action"},{value:12,label:"Adventure"},{value:16,label:"Animation"},{value:35,label:"Comedy"},{value:80,label:"Crime"},{value:99,label:"Documentary"},{value:18,label:"Drama"},{value:10751,label:"Family"},{value:14,label:"Fantasy"},{value:36,label:"History"},{value:27,label:"Horror"},{value:10402,label:"Music"},{value:9648,label:"Mystery"},{value:10749,label:"Romance"},{value:878,label:"Science Fiction"},{value:10770,label:"TV Movie"},{value:53,label:"Thriller"},{value:10752,label:"War"},{value:37,label:"Western"}],d=s.find(function(e){return e.value===c}),p=o?" checked":"",m=u?" checked":"";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"filters-container"},r.a.createElement("div",{className:"filter-buttons-container"},r.a.createElement(z.a,{className:"react-select-container",classNamePrefix:"react-select",value:d||null,isDisabled:!1,isLoading:!1,isClearable:!0,name:"Genre",onChange:function(e,t){"clear"===t.action?l():"select-option"===t.action&&l(e)},options:s,placeholder:"Select genre..."}),r.a.createElement("button",{className:"filter-buttons ratting-button ".concat(p),onClick:function(){return i()},type:"button"},"Rating"),r.a.createElement("button",{className:"filter-buttons popularity-button ".concat(m),onClick:function(){return n()},type:"button"},"Popularity")),r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("form",{className:"search-form",onSubmit:function(e){return e.preventDefault()}},r.a.createElement("input",{className:"search-input",placeholder:"Search films...",value:a,onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="Search films..."},onChange:function(e){return t(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"search-button"},r.a.createElement("i",{className:"fa fa-search"}))))))})),Y=Object(l.b)(null,function(e){return{sendSearchQuery:function(t){return e(M(t))}}})(function(e){var t=e.sendSearchQuery;return r.a.createElement("header",{className:"header"},r.a.createElement("button",{type:"button",onClick:function(){t("")},className:"header-logo-wrapper"},r.a.createElement("img",{src:J.a,className:"header-logo",alt:"logo"}),r.a.createElement("span",{className:"header-text"},"Movies App")),r.a.createElement(q,null))}),K=a(11),Z=a(12),$=a(15),ee=a(13),te=a(14),ae=(a(70),a(37)),ne=a.n(ae),re=a(38),ie=a.n(re),ce=a(39),le=a.n(ce),oe=function(){return r.a.createElement("img",{src:le.a,className:"movie-poster",alt:"fallback"})},ue=function(e){var t=e.poster,a=e.id,n=e.title,i=e.rank,c=e.overview,l=t?"https://image.tmdb.org/t/p/w200/".concat(t):"https://image.tmdb.org/t/p/w200/xPu5camdNW7ga5QeHGJhiMbQ62B.jpg";return r.a.createElement("li",{className:"movie-wrapper"},r.a.createElement("a",{href:"https://www.themoviedb.org/movie/".concat(a),target:"_blank",rel:"noopener noreferrer","aria-label":"Link to movie description on movieDB site"},r.a.createElement(ne.a,{className:"movie-poster",src:l,alt:n,loader:r.a.createElement(ie.a,{type:"Triangle",color:"rgba(245, 245, 245, 0.9)",height:100,width:100}),unloader:r.a.createElement(oe,null)})),r.a.createElement("div",{className:"movie-info"},r.a.createElement("div",null,r.a.createElement("a",{href:"https://www.themoviedb.org/movie/".concat(a),target:"_blank",rel:"noopener noreferrer","aria-label":"Link to movie description on movieDB site"},r.a.createElement("span",{className:"movie-title"},n)),r.a.createElement("span",{className:"movie-rank"},r.a.createElement("span",null,"IMDb"),r.a.createElement("i",{className:"fas fa-star"}),r.a.createElement("span",{className:"movie-rank-number"},i))),r.a.createElement("span",null,c)))},se=(a(102),function(e){function t(){return Object(K.a)(this,t),Object($.a)(this,Object(ee.a)(t).apply(this,arguments))}return Object(te.a)(t,e),Object(Z.a)(t,[{key:"componentDidMount",value:function(){this.props.downloadMovies()}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.loading,n=e.items;if(t)return r.a.createElement("div",{className:"main-error"},r.a.createElement("div",null,"Error!",t));if(a)return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",{className:"loading"},"Loading..."));var i=n.map(function(e){return r.a.createElement(ue,{key:e.id,id:e.id,title:e.title,overview:e.overview,poster:e.poster_path,rank:e.vote_average})});return r.a.createElement("main",{className:"main-wrapper"},r.a.createElement("ul",{className:"movies-list"},i))}}]),t}(n.Component)),de=Object(l.b)(function(e){return{items:e.fetching.items,loading:e.fetching.loading,error:e.fetching.error}},function(e){return{downloadMovies:function(){e(N())}}})(se),pe=a(8),me=a(40),ve=a.n(me),fe=(a(106),function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object($.a)(this,Object(ee.a)(t).call(this,e))).updateWindowDimensions=a.updateWindowDimensions.bind(Object(pe.a)(Object(pe.a)(a))),a}return Object(te.a)(t,e),Object(Z.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.props.updateWindowWidth(window.innerWidth)}},{key:"render",value:function(){var e=this.props,t=e.inputValue,a=e.pages,n=e.genreId,i=e.byRating,c=e.byPopularity,l=e.windowWidth,o=e.currentPage,u=e.downloadMovies,s=e.nextPage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pagination-wrapper"},r.a.createElement(ve.a,{previousLabel:"previous",pageClassName:"page",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:Math.min(a,1e3),marginPagesDisplayed:1,pageRangeDisplayed:l>1e3?8:l<=1e3&&l>600?4:1,onPageChange:function(e){return function(e){window.scrollTo({top:0});var a=e.selected+1;s(a),u(t,a,n,i,c)}(e)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active",forcePage:o-1})))}}]),t}(n.Component)),be=Object(l.b)(function(e){return{inputValue:e.inputReducers.inputValue,pages:e.paginationReducers.pages,currentPage:e.paginationReducers.currentPage,windowWidth:e.paginationReducers.windowWidth,genreId:e.genreReducers.value,byRating:e.filterReducers.byRating,byPopularity:e.filterReducers.byPopularity}},function(e){return{downloadMovies:function(t,a,n,r,i){e(N(t,a,n,r,i))},nextPage:function(t){e(function(e){return{type:O,payload:e}}(t))},updateWindowWidth:function(t){e(function(e){return{type:P,payload:{width:e}}}(t))}}})(fe),ge=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,null),r.a.createElement(de,null),r.a.createElement(be,null))},ye=Object(o.e)(Q,Object(o.d)(Object(o.a)(u.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));c.a.render(r.a.createElement(l.a,{store:ye},r.a.createElement(ge,null)),document.getElementById("root"))},33:function(e,t,a){e.exports=a.p+"static/media/logo.fce7ce8f.svg"},39:function(e,t,a){e.exports=a.p+"static/media/FallbackImg.d4e90b1e.jpg"},43:function(e,t,a){e.exports=a(107)},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},70:function(e,t,a){}},[[43,1,2]]]);
//# sourceMappingURL=main.f4a1bbf4.chunk.js.map